// ===== _base.scss =====
// シンタックスハイライト用スタイル（highlight.jsクラスへのカラーマッピング）
// marp-core v4.2.0 を改変
// https://github.com/marp-team/marp-core/blob/v4.2.0/themes/default.scss

/*!
 * MIT License
 * Copyright (c) 2018 Marp team (marp-team@marp.app)
 * https://github.com/marp-team/marp-core/blob/main/LICENSE
 */

@mixin configure(
  $comment,                 // コメント (pl-c)
  $constant,                // 定数 (pl-c1)
  $entity,                  // エンティティ・関数名 (pl-e, pl-en)
  $entity-tag,              // タグ名 (pl-ent)
  $keyword,                 // キーワード (pl-k)
  $string,                  // 文字列 (pl-s)
  $variable,                // 変数 (pl-v)
  $storage-modifier,        // デフォルトテキスト (pl-smi)
  $markup-heading,          // 見出し (pl-mh)
  $markup-list,             // リストマーカー (pl-ml)
  $markup-inserted-text,    // 挿入テキスト色 (pl-mi1)
  $markup-inserted-bg,      // 挿入背景色 (pl-mi1)
  $markup-deleted-text,     // 削除テキスト色 (pl-md)
  $markup-deleted-bg        // 削除背景色 (pl-md)
) {
  pre {
    // デフォルト色
    :where(.hljs) {
      color: $storage-modifier;
    }

    // キーワード系
    :where(.hljs-doctag),
    :where(.hljs-keyword),
    :where(.hljs-meta .hljs-keyword),
    :where(.hljs-template-tag),
    :where(.hljs-template-variable),
    :where(.hljs-type),
    :where(.hljs-variable.language_) {
      color: $keyword;
    }

    // 関数・クラス名
    :where(.hljs-title),
    :where(.hljs-title.class_),
    :where(.hljs-title.class_.inherited__),
    :where(.hljs-title.function_) {
      color: $entity;
    }

    // 定数・属性・数値
    :where(.hljs-attr),
    :where(.hljs-attribute),
    :where(.hljs-literal),
    :where(.hljs-meta),
    :where(.hljs-number),
    :where(.hljs-operator),
    :where(.hljs-selector-attr),
    :where(.hljs-selector-class),
    :where(.hljs-selector-id),
    :where(.hljs-variable) {
      color: $constant;
    }

    // 文字列・正規表現
    :where(.hljs-string),
    :where(.hljs-meta .hljs-string),
    :where(.hljs-regexp) {
      color: $string;
    }

    // 組み込み関数・シンボル
    :where(.hljs-built_in),
    :where(.hljs-symbol) {
      color: $variable;
    }

    // コメント
    :where(.hljs-code),
    :where(.hljs-comment),
    :where(.hljs-formula) {
      color: $comment;
    }

    // タグ名・セレクタ
    :where(.hljs-name),
    :where(.hljs-quote),
    :where(.hljs-selector-pseudo),
    :where(.hljs-selector-tag) {
      color: $entity-tag;
    }

    // 変数展開
    :where(.hljs-subst) {
      color: $storage-modifier;
    }

    // マークアップ: 見出し
    :where(.hljs-section) {
      font-weight: bold;
      color: $markup-heading;
    }

    // マークアップ: リスト
    :where(.hljs-bullet) {
      color: $markup-list;
    }

    // マークアップ: 強調
    :where(.hljs-emphasis) {
      font-style: italic;
      color: $storage-modifier;
    }

    :where(.hljs-strong) {
      font-weight: bold;
      color: $storage-modifier;
    }

    // diff: 追加行
    :where(.hljs-addition) {
      color: $markup-inserted-text;
      background-color: $markup-inserted-bg;
    }

    // diff: 削除行
    :where(.hljs-deletion) {
      color: $markup-deleted-text;
      background-color: $markup-deleted-bg;
    }
  }
}
