// ===== _columns.scss =====
// Flexbox-based column layout component
//
// Usage 1: _class: columns (entire slide uses column layout)
// Usage 2: <div class="columns"> (partial column layout)
//
// Note: Add blank lines before/after div tags for proper Markdown parsing

$_column-widths: (2, 3, 4, 6, 7, 8);

// Common styles for column elements
// - flex: $n ... Ratio-based width (distributed considering gap)
//                e.g., column-4 + column-6 = 4:6 ratio distribution
// - min-width: 0 ... Override flex child default (auto) to maintain
//                    flex-basis width regardless of content size
// - > *, p > * { max-width: 100% } ... Constrain children and paragraph elements (images etc.) to column width
@mixin _column-children {
  > .column {
    flex: 1;
    min-width: 0;

    > *,
    p > * {
      max-width: 100%;
    }
  }

  @each $n in $_column-widths {
    > .column-#{$n} {
      flex: $n;
      min-width: 0;

      > *,
      p > * {
        max-width: 100%;
      }
    }
  }
}

@mixin configure() {
  // Usage 1: _class: columns (section itself becomes flex container)
  &.columns {
    flex-direction: row;
    gap: 1em;
    @include _column-children;
  }

  // Usage 2: <div class="columns"> (partial column layout)
  .columns {
    display: flex;
    gap: 1em;
    width: 100%;
    @include _column-children;
  }
}
